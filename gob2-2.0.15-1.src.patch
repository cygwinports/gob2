--- origsrc/gob2-2.0.15/configure.in	2007-10-17 09:56:03.000000000 -0500
+++ src/gob2-2.0.15/configure.in	2007-11-28 07:14:15.295315900 -0600
@@ -20,10 +20,10 @@
   AC_MSG_RESULT([*** NOT Going to install GOB ***])
   SUBDIRS="src examples"
   INSTGOB=""
-  NOINSTGOB="gob2"
+  NOINSTGOB="gob2\$(EXEEXT)"
 else
   SUBDIRS="src examples doc"
-  INSTGOB="gob2"
+  INSTGOB="gob2\$(EXEEXT)"
   NOINSTGOB=""
 fi
 AC_SUBST(SUBDIRS)
--- origsrc/gob2-2.0.15/src/Makefile.am	2007-03-09 11:46:14.000000000 -0600
+++ src/gob2-2.0.15/src/Makefile.am	2007-11-28 07:14:15.310940900 -0600
@@ -61,15 +61,15 @@
 # 	test -f y.tab.h && mv -f y.tab.h parse.h
 
 test: test-object.c test-object.h
-	$(CC) -g -O -W -Wall -Wunused -Wuninitialized -Wdeclaration-after-statement -Wshadow -Wwrite-strings -Wunreachable-code -Wbad-function-cast -pedantic `pkg-config --cflags gobject-2.0 gtk+-2.0` -c test-object.c
+	$(CC) $(CFLAGS) -W -Wall -Wunused -Wuninitialized -Wdeclaration-after-statement -Wshadow -Wwrite-strings -Wunreachable-code -Wbad-function-cast -pedantic `pkg-config --cflags gobject-2.0 gtk+-2.0` -c test-object.c
 
-test-object.c test-object.h: test.gob gob2
-	./gob2 test.gob
+test-object.c test-object.h: test.gob gob2$(EXEEXT)
+	./gob2 $(srcdir)/test.gob
 
 # can't depend on the header file as that would break the above rule
 # since it's just for testing, who cares
 testcpp: test-object.cc
-	g++ -g -O -W -Wall -Wunused -Wuninitialized  -Wwrite-strings -Wunreachable-code -pedantic `pkg-config --cflags gobject-2.0 gtk+-2.0` -c test-object.cc
+	g++ $(CFLAGS) -W -Wall -Wunused -Wuninitialized  -Wwrite-strings -Wunreachable-code -pedantic `pkg-config --cflags gobject-2.0 gtk+-2.0` -c test-object.cc
 
-test-object.cc: test.gob gob2
-	./gob2 --for-cpp test.gob
+test-object.cc: test.gob gob2$(EXEEXT)
+	./gob2 --for-cpp $(srcdir)/test.gob
